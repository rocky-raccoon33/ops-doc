## 1 概述
> 租户既是数据库对象的容器，又是资源（CPU/Memory/IO）的容器。

## 2 系统租户

> 管理所有普通租户

## 3 普通租户

> 可以看作是一个数据库实例 

**普通租户具备一个实例所应该具有的所有特性，主要包括：**
可以创建自己的用户
可以创建数据库（database）、表（table）等所有客体对象
有自己独立的系统表和系统视图
有自己独立的系统变量
数据库实例所具备的其他特性

## 4 租户与资源管理

### 租户的资源管理

- 创建资源配置
- 创建资源池并指定资源池在zone上的分配
- 创建用户绑定资源池，一个资源池仅属于一个用户，一个用户可以有多个资源池但是在同一个zone下仅允许存在一个资源池

### 如何做到资源隔离

> 非容器化技术，通过控制资源单元实现

- 内存完全隔离
- CPU不完全隔离
- 事务相关数据结构是分离的
- Clog共享

> **大查询策略**:大查询最多占用百分之30woker线程，挂起大查询优先小查询，开一个新的worker线程，必须小于最大线程数阈值。

> **风险**:大查询执行比预期时间长
